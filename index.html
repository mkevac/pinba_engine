<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Pinba engine by tony2001</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="Pinba MySQL storage engine">
    <meta name="keywords" content="php server monitoring, server, tool, utility, pinba, pinba engine, php, monitoring, extension, realtime, statistics, stats, open source, opensource, mysql, engine, mysql engine, storage engine, php extension, php module, php stats, php statistics, php monitoring, sql, pimba">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	<script type="text/javascript">

		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-21141909-1']);
		_gaq.push(['_trackPageview']);

		(function() {
		 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		 })();

	 </script>
	 <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <center><img src="pinba_sq.png" border="0" width="139" height="141"></center>
        <center>MySQL plugin and storage engine</center><br>
        <a href="https://github.com/tony2001/pinba_engine/wiki">Documentation</a><br>
        <a href="https://github.com/tony2001/pinba_engine/wiki/Support">Support</a><br>
        <a href="https://github.com/tony2001/pinba_engine/issues">Bugtracker</a><br>
        <a href="https://github.com/tony2001/pinba_engine">Pinba on GitHub</a><br>

        <ul>
          <li><a href="https://github.com/tony2001/pinba_engine/zipball/master">Stable <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/tony2001/pinba_engine/tarball/master">Stable <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/tony2001/pinba_engine/tree/master">View On <strong>GitHub</strong></a></li>
        </ul>
        <ul>
          <li><a href="https://github.com/tony2001/pinba_engine/zipball/devel">Unstable <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/tony2001/pinba_engine/tarball/devel">Unstable <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/tony2001/pinba_engine/tree/devel">View On <strong>GitHub</strong></a></li>
        </ul>
		<g:plusone></g:plusone>
      </header>
      <section>
        <p><strong>Pinba</strong> is a MySQL storage engine that acts as a realtime monitoring/statistics server for PHP using MySQL as a read-only interface.</p>

		<p>It accumulates and processes <a href="https://github.com/tony2001/pinba_engine/wiki/Basics#wiki-Data">data</a> sent over UDP by multiple PHP processes and displays statistics in a nice human-readable form of simple "<a href="https://github.com/tony2001/pinba_engine/wiki/Raw-data-tables">reports</a>", also providing read-only interface to the raw data in order to make possible generation of more sophisticated reports and stats.</p>

		<p>With Pinba extension users also can measure particular parts of the code using <a href="https://github.com/tony2001/pinba_engine/wiki/Basics#wiki-Timers">timers</a> with arbitrary tags.</p>

		<p>Pinba is not a debugging tool in a common sense, since you're not supposed to do debugging on production servers, but its main goal is to help developers to monitor performance of PHP scripts, locate bottlenecks in realtime and direct developers' attention to the code that really needs it.</p>

		<p><a href="https://github.com/tony2001/pinba_engine/wiki">Read on</a> for more details.</p>

		<h3><span style="color: #FF1111">NEW</span> Docker container</h3>

		<p>Pinba is now available as a <a href="https://hub.docker.com/r/tony2001/pinba/">Docker container</a> via Docker Hub. Run the following command to get it:<br/>
		<pre>docker pull tony2001/pinba</pre>
		The image contains latest Pinba checkout in Ubuntu:latest environment.
		</p>

		<h3>Binary packages</h3>

		<ul>
			<li><b>Debian</b> packages are available at <a href="http://www.dotdeb.org/2011/01/31/lets-monitor-your-php-applications-with-pinba/">Dotdeb.org</a>: php5-pinba and pinba-mysql-engine.</li>

			<li><b>CentOS</b> EL6 x86-64 packages and SRPMs are available here: <a href="http://yum.aclub.net/pub/linux/centos/6/umask/">http://yum.aclub.net/pub/linux/centos/6/umask/</a>

			<li><b>Slackware</b> packages are available here: <a href="http://slackbuilds.org/apps/php-pinba/">http://slackbuilds.org/apps/php-pinba/</a>, <a href="http://slackbuilds.org/apps/mysql-pinba/">http://slackbuilds.org/apps/mysql-pinba/</a>

			<li><b>openSUSE</b> RPMS: <a href="http://download.opensuse.org/repositories/home:/tony2001:/pinba:/openSUSE_11.4/openSUSE_11.4/">11.4</a>, <a href="http://download.opensuse.org/repositories/home:/tony2001:/pinba:/openSUSE_12.1/openSUSE_12.1/">12.1</a>, <a href="http://download.opensuse.org/repositories/home:/tony2001:/pinba:/openSUSE_Factory/openSUSE_Factory/">Factory</a>
			(If you know about binary packages for any other OS/distro, let <a href="mailto:tony@daylessday.org">me</a> know).
		</ul>

		<h3>Source code</h3>

		<p>Latest release: <a href="http://pinba.org/files/pinba_engine-1.2.0.tar.gz">pinba_engine-1.2.0.tar.gz</a> (09 Sep 2016)</br>
		Previous release: <a href="http://pinba.org/files/pinba_engine-1.1.0.tar.gz">pinba_engine-1.1.0.tar.gz</a> (12 Feb 2015)</p>

		<p><a href="https://github.com/tony2001/pinba_engine/wiki/Installation">Installation from sources</a></p>

		<h3>Interfaces</h3>
		<ul>
			<li><a href="http://intaro.github.io/pinboard/">Intaro Pinboard</a> - Simple PHP monitoring system, which aggregates and displays Pinba data.</li>
		</ul>

		<h3>Clients</h3>
		<p>Even though Pinba was written with PHP in mind, any kind of client can create and send a Pinba packet to the server. Here is the list of clients I know of:</p>
		<ul>
			<li><a href="https://github.com/tony2001/pinba_extension">PHP extension</a></li>
			<li><a href="https://github.com/tony2001/ngx_http_pinba_module">Nginx module</a></li>
			<li><a href="https://github.com/gggeek/pinba_php">Pure PHP implementation</a></li>
			<li><a href="https://github.com/Sannis/node-pinba">Node.js client</a></li>
			<li><a href="https://github.com/prepor/pinbo">Ruby client</a></li>
			<li><a href="https://github.com/IsCoolEntertainment/pynba">Python client</a></li>
			<li><a href="https://github.com/alex-krash/jpinba">Java client</a></li>
			<li><a href="https://github.com/mkevac/gopinba">Go client</a></li>
		</ul>
		<p><a href="mailto:tony@daylessday.org">Drop me an email</a> if you know more.</p>

		<h3>Engine Changelog<h3>

		<h5><b>1.2.0</b> - 09 Sep 2016</h5>
		<ul>
			<li>Added pinba_log_level configuration directive to configure log verbosity.</li>
			<li>Histograms are now dynamic and can be configured in my.cnf using pinba_histogram_size directive.</li>
			<li>Fixed FreeBSD compatibility.</li>
			<li>Added multiple reader threads with separate data pools to speed up reading and decoding of incoming data.</li>
			<li>Added active_reports table to track reports that produce most CPU load.</li>
			<li>Switched to Google dense/sparse hash instead of Judy where possible.</li>
			<li>Removed libevent dependency.</li>
			<li>Optimized locking and increased overall performance.</li>
		</ul>
		<h5><b>1.1.0</b> - 12 Feb 2015</h5>
		<ul>
			<li>Added schema field (mostly to distinguish between HTTPS/HTTP traffic).</li>
			<li>Added memory footprint field to request.</li>
			<li>Added timestamp field to request.</li>
			<li>Added nested messages to allow packet data 'buffering' without reinventing data streaming.</li>
			<li>Added <a href="https://github.com/tony2001/pinba_engine/wiki/Reports#Request_tags">request tags</a> (used to filter requests).></li>
			<li>Added <a href="https://github.com/tony2001/pinba_engine/wiki/Reports">tagN_reports</a> supporting arbitrary number of timer tags.</li>
			<li>Added <a href="https://github.com/tony2001/pinba_engine/wiki/Reports#Histograms">'histograms'</a> - a way to look beyond the 'average' numbers.</li>
			<li>Added support of <a href="https://github.com/tony2001/pinba_engine/wiki/Reports#Percentiles">percentiles</a> in reports.</li>
			<li>Added rusage to timers and timer reports.</li>
			<br/>
			<li>Greatly improved locking and performance.</li>
			<li>All reports now support conditions (min_time/max_time and request tags).</li>
			<li>All CPU-intensive operations with package data are now done using the thread pool (spreading across all available CPU cores).</li>
			<li>Switched to Protobuf-C version to improve performance (this also removes one more library dependency).</li>
			<li>Fixed bug in tag report generation (some data was added, but never deleted from the report).</li>
			<br/>
			<li>Removed <b>pinba_tag_report_timeout</b> (make sure to remove it from my.cnf, or MySQL won't start!).</li>
		</ul>
		<h5><b>1.0.0</b> - 17 Aug 2012</h5>
		<ul>
			<li>Added tag_report2 and tag2_report2 mostly replicating their first versions, but with additional grouping by server name and hostname. (Denis Yeldandi)</li>
			<li>Implemented thread pool. ATM the pool is used only when converting Protobuf packets to Pinba internal structs and when deleting outdated data from the request pool. In most cases this means incoming/outdated data is processed MUCH faster and the pools are locked for MUCH less time.</li>
			<li>Fixed reading from timertag table by key.</li>
			<li>Fixed race condition when reading timer tag values.</li>
			<li>Fixed MySQL 5.5/5.6 build.</li>
		</ul>

		<h5><b>0.0.6</b> - 26 Nov 2010</h5>
		<ul>
			<li>Added [[Manual:Reports#Conditional_tag_reports|conditional tag reports]].</li>

			<li>Added missing primary key to the timer table.</li>
			<li>Increased default hostname size to 32 chars.</li>
			<li>Changed protobuf proto to use lite runtime (and link against libprotobuf-lite).</li>
			<li>Removed wrong index on tag_id in the timertag table.</li>
			<li>Fixed build with MySQL 5.5 (hopefully, as there is no way to know what they'll break next).</li>
			<li>Fixed potential problem with LDFLAGS in the configure script. (Andrew Sitnikov)</li>
		</ul>

		<h5><b>0.0.5</b> - 19 Oct 2009</h5>
		<ul>
			<li>Added rusage to timers (not aggregated on server (yet?)).</li>

			<li>Fixed possible crash caused by long script names.</li>
			<li>Disabled query cache for Pinba engine.</li>
		</ul>

		<h5><b>0.0.4</b> - 26 August 2009</h5>
		<ul>
			<li>Added HTTP response code to request data.</li>
			<li>Added support of Google Protocol Buffers 2.1.0+.</li>

			<li>Improved configure checks for MySQL sources and libevent.</li>
			<li>Fixed build on MacOS X.</li>
			<li>Fixed build on FreeBSD.</li>
			<li>Fixed build with static libevent of latest versions.</li>
		</ul>

		<h5><b>0.0.3</b> - 04 May 2009</h5>
		Preview release

		<h3>PHP Extension Changelog</h3>

		<h5><b>1.0.0</b> - 17 Aug 2012</h5>
		<ul>
			<li>Fixed 5_4 build.</li>
			<li>Fixed several minor memleaks.</li>
			<li>Added optional flag to pinba_flush() to flush only stopped timers (use PINBA_FLUSH_ONLY_STOPPED_TIMERS).</li>
		</ul>

		<h5><b>0.0.6</b> - 26 Nov 2010</h5>
		<ul>
			<li>Added [[Manual:PHP_extension#pinba_timer_delete()|pinba_timer_delete()]] function.</li>
			<li>Added [[Manual:PHP_extension#pinba_hostname_set()|pinba_hostname_set()]] function.</li>

			<li>Added experimental IPv6 support. (Florian Forster)</li>
			<li>Fixed extension crash on empty tag value.</li>
		</ul>

		<h5><b>0.0.5</b> - 19 Oct 2009</h5>
		<ul>
			<li>Added rusage to timers (not aggregated on server (yet?)).</li>
		</ul>

		<h5><b>0.0.4</b> - 26 Aug 2009</h5>
		<ul>
			<li>Added HTTP response status to the response data.</li>
			<li>Added support of Google Protocol Buffers 2.1.0+.</li>
			<li>Added [[Manual:PHP_extension#pinba_script_name_set()|pinba_script_name_set()]] function.</li>
		</ul>

		<h5><b>0.0.3</b> - 04 May 2009</h5>
		Initial release.
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/tony2001">tony2001</a></p>
		<p>
			<small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small><br/>
			<small>Source code for this page is <a href="https://github.com/tony2001/pinba_engine/tree/gh-pages">here</a>.</small><br/>
			<small>Feel free to contribute.</small>
		</p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
